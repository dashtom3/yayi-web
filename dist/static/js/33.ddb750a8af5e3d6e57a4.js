webpackJsonp([33],{298:function(a,t,e){function i(a){e(655)}var s=e(8)(e(427),e(799),i,"data-v-2f5ea2f5",null);a.exports=s.exports},427:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(53);t.default={data:function(){return{advertList:[],qiNiuToken:null,qiNiuUrl:i.a.qiNiuUrl,advertVisible:!1,input_adv:"",img_src:"",advNo:"",advertType:"",fileList:[{name:"",url:""}]}},created:function(){var a=this;this.init(),i.a.axiosGetReq("/file/getUpToken",null).then(function(t){"SUCCEED"===t.data.callStatus&&(a.qiNiuToken={token:t.data.msg})})},methods:{init:function(){var a=this;i.a.axiosGetReq("/adv/showAdv",{}).then(function(t){"SUCCEED"===t.data.callStatus?(a.advertList=t.data.data,a.img_src=t.data.data.advImg):a.$message.error("获取广告数据失败！")})},handleEdit:function(a,t){this.advertVisible=!0,this.advNo=t.advId,this.advertType=t.advType,this.input_adv=t.advName,this.img_src=t.advUrl,this.fileList[0].url=this.img_src},uploadFile:function(a,t){this.advUrl=i.a.qiniuShUrl+t.response.key,this.img_src=i.a.qiniuShUrl+t.response.key,this.fileList=[],this.fileList.push({name:"",url:this.img_src})},handlePreview:function(){},saveBtn:function(){var a=this,t={advImg:this.img_src,advName:this.input_adv,advUrl:this.img_src,advType:this.advertType,advId:this.advNo};return this.input_adv?this.img_src?void i.a.axiosPostReq("/adv/updateAdv",t).then(function(t){"SUCCEED"===t.data.callStatus?(a.$message({message:"修改成功",type:"success"}),a.init()):a.$message.error("修改失败！"),a.advertVisible=!1}):(this.$message.error("请上传广告图片！"),!1):(this.$message.error("请填写广告名称！"),!1)},celSave:function(){this.advertVisible=!1}}}},519:function(a,t,e){t=a.exports=e(293)(!0),t.push([a.i,'.el-table th>.cell[data-v-2f5ea2f5]{text-align:center}.fl[data-v-2f5ea2f5]{float:left}.fr[data-v-2f5ea2f5]{float:right}.clearfix[data-v-2f5ea2f5]{zoom:1}.clearfix[data-v-2f5ea2f5]:after{content:"";clear:both;display:block}.i_col_red[data-v-2f5ea2f5]{color:red;font-style:normal}.margin_l_30[data-v-2f5ea2f5]{margin-left:30px}.t_input_width[data-v-2f5ea2f5]{width:340px}.adv_wrap li[data-v-2f5ea2f5]{height:40px;line-height:40px}.span_nav[data-v-2f5ea2f5]{display:inline-block;width:84px;padding-right:6px}.btn_[data-v-2f5ea2f5]{margin-left:92px}.add_btn[data-v-2f5ea2f5]{float:right;margin:20px 118px 20px 0}',"",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/advertSets/adv.vue"],names:[],mappings:"AACA,oCACE,iBAAmB,CACpB,AACD,qBACC,UAAW,CACX,AACD,qBACC,WAAY,CACZ,AACD,2BACC,MAAO,CACP,AACD,iCACC,WAAW,AACX,WAAW,AACX,aAAc,CACd,AACD,4BACE,UAAW,AACX,iBAAmB,CACpB,AACD,8BACE,gBAAkB,CACnB,AACD,gCACC,WAAY,CACZ,AACD,8BACC,YAAa,AACb,gBAAkB,CAClB,AACD,2BACC,qBAAsB,AACtB,WAAY,AACZ,iBAAmB,CACnB,AACD,uBACE,gBAAkB,CACnB,AACD,0BACC,YAAY,AACZ,wBAA0B,CAC1B",file:"adv.vue",sourcesContent:['\n.el-table th>.cell[data-v-2f5ea2f5]{\n  text-align: center;\n}\n.fl[data-v-2f5ea2f5]{\n\tfloat:left;\n}\n.fr[data-v-2f5ea2f5]{\n\tfloat:right;\n}\n.clearfix[data-v-2f5ea2f5]{\n\tzoom:1;\n}\n.clearfix[data-v-2f5ea2f5]:after{\n\tcontent:"";\n\tclear:both;\n\tdisplay:block;\n}\n.i_col_red[data-v-2f5ea2f5]{\n  color: red;\n  font-style: normal;\n}\n.margin_l_30[data-v-2f5ea2f5]{\n  margin-left: 30px;\n}\n.t_input_width[data-v-2f5ea2f5]{\n\twidth:340px;\n}\n.adv_wrap li[data-v-2f5ea2f5]{\n\theight: 40px;\n\tline-height: 40px;\n}\n.span_nav[data-v-2f5ea2f5]{\n\tdisplay: inline-block;\n\twidth: 84px;\n\tpadding-right: 6px;\n}\n.btn_[data-v-2f5ea2f5]{\n  margin-left: 92px;\n}\n.add_btn[data-v-2f5ea2f5]{\n\tfloat:right;\n\tmargin: 20px 118px 20px 0;\n}\n'],sourceRoot:""}])},655:function(a,t,e){var i=e(519);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);e(294)("369685f9",i,!0)},799:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("el-row",{staticClass:"warp"},[e("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("b",[a._v("广告设置")])])],1)],1),a._v(" "),e("el-table",{attrs:{data:a.advertList,border:""}},[e("el-table-column",{attrs:{prop:"advId",label:"序号",width:"80",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"advName",label:"名称",span:4,align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"advImg",label:"图片",span:4,align:"center"},scopedSlots:a._u([{key:"default",fn:function(a){return[e("img",{staticStyle:{width:"100px"},attrs:{src:a.row.advImg,alt:"该图片无法显示",align:"center"}})]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"advUrl",label:"链接",width:"300",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"advType",label:"类型",span:4,align:"center"}}),a._v(" "),e("el-table-column",{attrs:{prop:"handle",label:"操作",span:4,align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){a.handleEdit(t.$index,t.row)}}},[a._v("修改")])]}}])})],1),a._v(" "),e("el-dialog",{attrs:{title:"修改广告",size:"tiny","close-on-click-modal":!0},model:{value:a.advertVisible,callback:function(t){a.advertVisible=t},expression:"advertVisible"}},[e("ul",{staticClass:"adv_wrap"},[e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl span_nav"},[e("span",{staticClass:"fr"},[e("i",{staticClass:"i_col_red"},[a._v("*")]),a._v("序号：")])]),a._v(" "),e("span",[a._v(a._s(a.advNo))])]),a._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl span_nav"},[e("span",{staticClass:"fr"},[e("i",{staticClass:"i_col_red"},[a._v("*")]),a._v("类型：")])]),a._v(" "),e("span",[a._v(a._s(a.advertType))])]),a._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl span_nav"},[e("span",{staticClass:"fr"},[e("i",{staticClass:"i_col_red"},[a._v("*")]),a._v("广告名称：")])]),a._v(" "),e("el-input",{staticClass:"fl",staticStyle:{width:"230px"},model:{value:a.input_adv,callback:function(t){a.input_adv=t},expression:"input_adv"}})],1),a._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl span_nav"},[e("span",{staticClass:"fr"},[e("i",{staticClass:"i_col_red"},[a._v("*")]),a._v("广告图：")])]),a._v(" "),e("el-upload",{staticClass:"upload-demo fl",attrs:{action:a.qiNiuUrl,"on-preview":a.handlePreview,"on-success":a.uploadFile,"file-list":a.fileList,data:a.qiNiuToken,"list-type":"picture"}},[e("el-button",{attrs:{size:"small",type:"primary"}},[a._v("选择")])],1)],1),a._v(" "),e("li",{staticClass:"clearfix"},[e("span",{staticClass:"fl span_nav"},[e("span",{staticClass:"fr"},[e("i",{staticClass:"i_col_red"},[a._v("*")]),a._v("链接：")])]),a._v(" "),e("el-input",{staticClass:"fl",staticStyle:{width:"230px"},model:{value:a.img_src,callback:function(t){a.img_src=t},expression:"img_src"}})],1)]),a._v(" "),e("div",{staticStyle:{"margin-top":"30px"}},[e("el-button",{staticClass:"btn_",attrs:{type:"primary"},on:{click:a.saveBtn}},[a._v("保存")]),a._v(" "),e("el-button",{staticClass:"btn_",on:{click:a.celSave}},[a._v("取消")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=33.ddb750a8af5e3d6e57a4.js.map