webpackJsonp([27],{317:function(e,a,t){function s(e){t(696)}var l=t(8)(t(448),t(833),s,null,null);e.exports=l.exports},448:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{needBindSaleUserIndex:null,needBindUserPhone:null,showBindSalAlert:!1,showUserDetailInfor:!1,searchUserContent:null,searchUserStyle:"手机号",searchtype:"全部",searchisBindSale:"全部",searchSaleName:null,bindSaleSearchType:"手机号",bindSaleSearchCont:null,options:[{value:"选项1",label:"全部"},{value:"选项2",label:"是"},{value:"选项3",label:"否"}],isBindSale:"全部",types:[{value:"选项1",label:"全部"},{value:"选项2",label:"个人"},{value:"选项3",label:"机构"}],userList:[],someOneUserDetails:{bindSales:[],address:[]},salesList:[]}},created:function(){var e=this;e.getUserList(),e.getSalesList()},filters:{calculateUserType:function(e){return 1==e?"个人":"机构"}},methods:{getUserList:function(){var e=this,a={phone:"",trueName:"",companyName:"",isBindSale:"",type:"",saleName:"",token:"111"};e.global.axiosGetReq("/userManageList/userlist",a).then(function(a){"SUCCEED"===a.data.callStatus?(console.log(a.data.data,"getUserList"),e.userList=a.data.data):e.$message.error("网络出错，请稍后再试！")})},getSalesList:function(){var e=this,a={salePhone:"",saleName:"",token:"111"};e.global.axiosGetReq("/userManageList/salelist",a).then(function(a){console.log(a,"saleList"),"SUCCEED"===a.data.callStatus?e.salesList=a.data.data:e.$message.error("网络出错，请稍后再试！")})},getOneUserDetails:function(e){var a=this,t={phone:e,token:"1111"};a.global.axiosGetReq("/userManageList/detail",t).then(function(e){if("SUCCEED"===e.data.callStatus){console.log(e,"getOneUserDetails"),a.someOneUserDetails=e.data.data;var t={name:a.someOneUserDetails.saleName,phone:a.someOneUserDetails.salePhone,time:a.someOneUserDetails.saleCreated,hehushu:a.someOneUserDetails.bindUserNum};a.someOneUserDetails.bindSales=[],a.someOneUserDetails.bindSales.push(t)}else a.$message.error("网络出错，请稍后再试！")})},bandThisSale:function(e,a){var t=this,s={token:"1211",salePhone:a.phone,userPhone:t.needBindUserPhone};t.global.axiosPostReq("/userManageList/bind",s).then(function(a){if("SUCCEED"===a.data.callStatus){var s=t.userList[t.needBindSaleUserIndex];console.log(s),s.isBindSale=1,s.saleName=t.salesList[e].trueName,t.userList.splice(t.needBindSaleUserIndex,1,s),console.log(t.userList[t.needBindSaleUserIndex]),t.showBindSalAlert=!1}else t.$message.error("网络出错，请稍后再试！")})},addBindSale:function(e,a){var t=this;t.needBindUserPhone=a.phone,t.needBindSaleUserIndex=e,t.showBindSalAlert=!0},details:function(e,a){var t=this;t.showUserDetailInfor=!0,t.getOneUserDetails(a.phone)},searchSalse:function(){var e=this,a={token:"111"};e.bindSaleSearchCont?("手机号"==e.bindSaleSearchType?a.salePhone=e.bindSaleSearchCont:a.saleName=e.bindSaleSearchCont,e.global.axiosGetReq("/userManageList/salelist",a).then(function(a){"SUCCEED"===a.data.callStatus?e.salesList=a.data.data:e.$message.error("网络出错，请稍后再试！")})):this.$alert("请输入查找内容",{confirmButtonText:"确定"})},search:function(){var e=this,a={saleName:e.searchSaleName,token:"111"};"手机号"==e.searchUserStyle?(a.phone=e.searchUserContent,a.trueName="",a.companyName=""):"单位名称"==e.searchUserStyle?(a.phone="",a.trueName="",a.companyName=e.searchUserContent):"真实姓名"==e.searchUserStyle&&(a.phone="",a.trueName=e.searchUserContent,a.companyName=""),"全部"==e.searchtype?a.type="":"选项2"==e.searchtype?a.type=1:"选项3"==e.searchtype&&(a.type=2),"全部"==e.searchisBindSale?a.isBindSale="":"选项2"==e.searchisBindSale?a.isBindSale=1:"选项3"==e.searchisBindSale&&(a.isBindSale=2),e.searchSaleName||(e.searchSaleName=""),e.global.axiosGetReq("/userManageList/userlist",a).then(function(a){console.log(a,"headSearchResult"),"SUCCEED"===a.data.callStatus?e.userList=a.data.data:e.$message.error("网络出错，请稍后再试！")})},cancelBindSale:function(e,a){var t=this;t.$confirm("确定取消该绑定吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s={token:"1211",salePhone:a.salePhone,userPhone:a.phone};console.log(a),t.global.axiosPostReq("/userManageList/disBind",s).then(function(a){if("SUCCEED"===a.data.callStatus){var s=t.userList[e];s.isBindSale=2,s.saleName="",t.userList.splice(e,1,s),t.$message({type:"success",message:"解除成功!"})}else t.$message.error("网络出错，请稍后再试！")})}).catch(function(){t.$message({type:"info",message:"已取消解除"})})}}}},560:function(e,a,t){a=e.exports=t(293)(!0),a.push([e.i,".userListWrap .el-select .el-input{width:110px}.userListWrap .asgagewgf h3{font-weight:500;line-height:50px;color:#20a0ff}.userListWrap .asgagewgf .personalInfor{position:relative}.userListWrap .asgagewgf .personalInfor img{position:absolute;top:0;right:0;width:150px;height:150px}.userListWrap .asgagewgf span{width:40%;display:inline-block;line-height:35px}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/userManner/userList.vue"],names:[],mappings:"AACA,mCACI,WAAa,CAChB,AACD,4BACI,gBAAiB,AACjB,iBAAkB,AAClB,aAAe,CAClB,AACD,wCACI,iBAAmB,CACtB,AACD,4CACI,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,YAAa,AACb,YAAc,CACjB,AACD,8BACI,UAAW,AACX,qBAAsB,AACtB,gBAAkB,CACrB",file:"userList.vue",sourcesContent:["\n.userListWrap .el-select .el-input {\n    width: 110px;\n}\n.userListWrap   .asgagewgf h3{\n    font-weight: 500;\n    line-height: 50px;\n    color: #20a0ff;\n}\n.userListWrap   .asgagewgf .personalInfor{\n    position: relative;\n}\n.userListWrap   .asgagewgf .personalInfor img{\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 150px;\n    height: 150px;\n}\n.userListWrap   .asgagewgf  span{\n    width: 40%;\n    display: inline-block;\n    line-height: 35px;\n}\n  /*.demo-table-expand label {\n    font-weight: bold;\n  }\n  .warp  .warp-main .el-input{\n    width: 100%;\n    padding-right: 0px;\n  }\n  .warp .el-input{\n    width: 70%;\n    padding-right: 20px;\n  }*/\n"],sourceRoot:""}])},696:function(e,a,t){var s=t(560);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(294)("1847c902",s,!0)},833:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-row",{staticClass:"userListWrap"},[t("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("b",[e._v("用户管理")])]),e._v(" "),t("el-breadcrumb-item",[e._v("用户列表")])],1)],1),e._v(" "),t("el-col",{staticClass:"warp-main",attrs:{span:24}},[t("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-input",{model:{value:e.searchUserContent,callback:function(a){e.searchUserContent=a},expression:"searchUserContent"}},[t("el-select",{attrs:{placeholder:"请选择"},slot:"prepend",model:{value:e.searchUserStyle,callback:function(a){e.searchUserStyle=a},expression:"searchUserStyle"}},[t("el-option",{attrs:{label:"手机号",value:"手机号"}}),e._v(" "),t("el-option",{attrs:{label:"真实姓名",value:"真实姓名"}}),e._v(" "),t("el-option",{attrs:{label:"单位名称",value:"单位名称"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"是否绑定销售："}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchisBindSale,callback:function(a){e.searchisBindSale=a},expression:"searchisBindSale"}},e._l(e.options,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"类型："}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchtype,callback:function(a){e.searchtype=a},expression:"searchtype"}},e._l(e.types,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"销售员名称："}},[t("el-input",{model:{value:e.searchSaleName,callback:function(a){e.searchSaleName=a},expression:"searchSaleName"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.search()}}},[e._v("查询")])],1)],1)],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:""}},[t("el-table-column",{attrs:{prop:"trueName",align:"center",label:"用户姓名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"companyName",align:"center",label:"单位名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"type",align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.type?t("span",[e._v("个人")]):e._e(),e._v(" "),2==a.row.type?t("span",[e._v("机构")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"isBindSale",align:"center",label:"是否绑定销售"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.isBindSale?t("span",[e._v("是")]):t("span",[e._v("否")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"saleName",align:"center",label:"销售员姓名"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.isBindSale?t("el-button",{attrs:{type:"text"},on:{click:function(t){e.cancelBindSale(a.$index,a.row)}}},[e._v("取消绑定")]):t("el-button",{attrs:{type:"text"},on:{click:function(t){e.addBindSale(a.$index,a.row)}}},[e._v("绑定销售")]),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.details(a.$index,a.row)}}},[e._v("详情")])]}}])})],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"绑定销售员",visible:e.showBindSalAlert},on:{"update:visible":function(a){e.showBindSalAlert=a}}},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.bindSaleSearchType,callback:function(a){e.bindSaleSearchType=a},expression:"bindSaleSearchType"}},[t("el-option",{attrs:{label:"手机号",value:"手机号"}}),e._v(" "),t("el-option",{attrs:{label:"真实姓名",value:"真实姓名"}})],1)],1),e._v(" "),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.bindSaleSearchCont,callback:function(a){e.bindSaleSearchCont=a},expression:"bindSaleSearchCont"}},[t("el-button",{attrs:{icon:"search"},on:{click:function(a){e.searchSalse()}},slot:"append"})],1)],1)],1),e._v(" "),t("el-table",{attrs:{height:"500",data:e.salesList,border:""}},[t("el-table-column",{attrs:{align:"center",property:"phone",label:"手机号"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"trueName",label:"真实姓名",width:"200"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"hehushu",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){e.bandThisSale(a.$index,a.row)}}},[e._v("绑定")])]}}])})],1)],1),e._v(" "),t("el-dialog",{attrs:{"custom-class":"asgagewgf",title:"用户详情",visible:e.showUserDetailInfor},on:{"update:visible":function(a){e.showUserDetailInfor=a}}},[t("div",{staticClass:"personalInfor"},[t("img",{attrs:{src:e.someOneUserDetails.userPic,alt:""}}),e._v(" "),t("h3",[e._v("个人信息")]),e._v(" "),t("div",{},[t("span",[e._v("用户编号："+e._s(e.someOneUserDetails.userId))]),e._v(" "),t("span",[e._v("真实姓名："+e._s(e.someOneUserDetails.trueName))])]),e._v(" "),t("div",{},[t("span",[e._v("手机号："+e._s(e.someOneUserDetails.phone))]),e._v(" "),t("span",[e._v("性别："+e._s(e.someOneUserDetails.sex))])]),e._v(" "),t("div",{},[t("span",[e._v("生日："+e._s(e.someOneUserDetails.birthday))]),e._v(" "),t("span",[e._v("QQ："+e._s(e.someOneUserDetails.qq))])])]),e._v(" "),t("div",{staticClass:"certification"},[t("h3",[e._v("资质认证")]),e._v(" "),t("div",{},[t("span",[e._v("类型："+e._s(e._f("calculateUserType")(e.someOneUserDetails.type)))]),e._v(" "),t("span",[e._v("单位名称："+e._s(e.someOneUserDetails.companyName))])]),e._v(" "),t("div",{},[t("span",[e._v("所在地："+e._s(e.someOneUserDetails.part))]),e._v(" "),t("span",[e._v("详细地址："+e._s(e.someOneUserDetails.workAddress))])]),e._v(" "),t("div",{},[t("span",[e._v("口腔执业医师资格证：")]),e._v(" "),t("img",{staticStyle:{width:"100px",height:"100px",display:"block"},attrs:{src:e.someOneUserDetails.doctorPic,alt:""}})])]),e._v(" "),t("h3",[e._v("绑定的销售")]),e._v(" "),t("el-table",{attrs:{data:e.someOneUserDetails.bindSales,border:""}},[t("el-table-column",{attrs:{align:"center",property:"bianhao",label:"销售员编号",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"name",label:"真实姓名",width:"200"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"phone",label:"手机号"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"time",label:"注册时间"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"hehushu",label:"客户数"}})],1),e._v(" "),t("h3",[e._v("收货地址")]),e._v(" "),t("el-table",{attrs:{data:e.someOneUserDetails.Receiver}},[t("el-table-column",{attrs:{align:"center",property:"receiverName",label:"收货人",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"所在地区",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.province))]),e._v(" "),t("span",[e._v(e._s(a.row.city))]),e._v(" "),t("span",[e._v(e._s(a.row.county))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"receiverDetail",label:"详细地址"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",property:"receiverPhone",label:"手机/电话"}})],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=27.04ad6a17fd0314788203.js.map