webpackJsonp([5],{359:function(e,t,a){function c(e){a(721),a(720)}var n=a(4)(a(474),a(834),c,"data-v-8955e514",null);e.exports=n.exports},474:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=a(748),n=a.n(c);t.default={name:"freightSet",data:function(){return{palceSelected:null,state:!1,tab1_allInputDisable:!1,tab1_editIndex:null,tab1_showAddFreightBtn:!1,tab1_operaName:"",tab2_allInputDisable:!0,tab2_selectedState:"停用",tab2_tableData:[],tab1_tableData:[],activeName2:"first"}},components:{tableBoard:n.a},created:function(){var e=this;e.getSelfFreightList(),e.getFreeFreightList()},methods:{getSelfFreightList:function(){var e=this;e.global.axiosPostReq("/freightManage/showFreeShipp").then(function(t){"SUCCEED"===t.data.callStatus?(e.tab2_tableData=t.data.data,1==e.tab2_tableData[0].state?e.tab2_tableData[0].state="启用":e.tab2_tableData[0].state="停用"):e.$message.error("网络出错，请稍后再试！")})},getFreeFreightList:function(){var e=this;e.global.axiosPostReq("/freightManage/show").then(function(t){if("SUCCEED"===t.data.callStatus){e.tab1_tableData=t.data.data;for(var a in e.tab1_tableData)e.tab1_tableData[a].changeState=!1;console.log(e.tab1_tableData)}else e.$message.error("网络出错，请稍后再试！")})},listenChildrenFun:function(e){var t=this;if("1"!=e)if(1==t.selectPlaceStale){var a=e.join(",");t.tab1_tableData[t.tab1_editIndex].postCity=a}else if(2==t.selectPlaceStale){var a=e.join(",");t.tab2_tableData[0].postCity=a}this.state=!1},handleClick:function(e,t){console.log(e,t)},tab1_saveOne:function(e,t){var a=this,c={},n=null;t.firstNum<0?n="请填写首件数！":c.firstNum=t.firstNum.toString(),t.firstMoney<0?n="请填写首件数！":c.firstMoney=t.firstMoney.toString(),t.addNum<0?n="请填写续件！":c.addNum=t.addNum.toString(),t.addMoney<0?n="请填写续费！":c.addMoney=t.addMoney.toString(),"未添加地区"==t.postCity[0]?n="请选择地区！":c.postCity=t.postCity,n?this.$alert(n,{confirmButtonText:"确定"}):t.postFeeId?(c.postFeeId=t.postFeeId,a.global.axiosPostReq("/freightManage/customFreight",c).then(function(t){if("SUCCEED"===t.data.callStatus){var c=a.tab1_tableData[e];c.changeState=!1,a.tab1_tableData.splice(e,1,c)}else a.$message.error("网络出错，请稍后再试！")})):a.global.axiosPostReq("/freightManage//addCustomFreight",c).then(function(t){"SUCCEED"===t.data.callStatus?a.tab1_tableData[e].changeState=!1:a.$message.error("网络出错，请稍后再试！")})},tab1_changeOne:function(e){var t=this,a=t.tab1_tableData[e];a.changeState=!0,t.tab1_tableData.splice(e,1,a)},tab1_addOneFreight:function(){var e={postCity:["未添加地区"],firstNum:1,firstMoney:0,addNum:0,addMoney:0,changeState:!0};this.tab1_tableData.push(e)},tab1_delete:function(e,t){var a=this;a.$confirm("此操作将删除该自定义邮费, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(t.postFeeId){var c={postFeeId:t.postFeeId};a.global.axiosPostReq("/freightManage/deleteCustomFreight",c).then(function(t){"SUCCEED"===t.data.callStatus?(a.tab1_tableData.splice(e,1),a.$message({type:"success",message:"删除成功!"})):a.$message.error("网络出错，请稍后再试！")})}}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},tab1_editThis:function(e,t){console.log(t);var a=this;a.selectPlaceStale=1,a.state=!0,a.tab1_editIndex=e;var c=a.tab1_tableData[e].postCity;c=c.split(","),a.palceSelected=c},tab2_change:function(){this.tab2_allInputDisable=!1},tab2_editThis:function(e){var t=this;t.selectPlaceStale=2,t.state=!0;var a=t.tab2_tableData[e].postCity;a=a.split(","),t.palceSelected=a},tab2_save:function(e,t){var a=this;a.tab2_allInputDisable=!0;var c={},n=null;c.freePostId=t.freePostId,t.freeShippingMoney>=0?c.freeShippingMoney=t.freeShippingMoney.toString():n="请填写包邮金额！","启用"==t.state?c.state="1":c.state="2","未添加地区 "==t.postCity[0]?n="请填写包邮地区！":c.postCity=t.postCity.join(","),n?a.$alert(n,{confirmButtonText:"确定"}):(console.log(c),a.global.axiosPostReq("/freightManage/updateFreeShipp",c).then(function(e){console.log(e.data.data,"tab2_save"),"SUCCEED"===e.data.callStatus||a.$message.error("网络出错，请稍后再试！")}))}}}},475:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"tableBoard",data:function(){return{state2:!1,checkAll:!1,checkedCities:[],isIndeterminate:!1,items:[{area:"华东",allcheck:!1,place:[{city:"上海",checked:!1},{city:"江苏",checked:!1},{city:"浙江",checked:!1},{city:"安徽",checked:!1},{city:"江西",checked:!1}]},{area:"华北",allcheck:!1,place:[{city:"北京",checked:!1},{city:"天津",checked:!1},{city:"山西",checked:!1},{city:"山东",checked:!1},{city:"河北",checked:!1},{city:"内蒙古",checked:!1}]},{area:"华中",allcheck:!1,place:[{city:"湖南",checked:!1},{city:"湖北",checked:!1},{city:"河南",checked:!1}]},{area:"华南",allcheck:!1,place:[{city:"广东",checked:!1},{city:"广西",checked:!1},{city:"福建",checked:!1},{city:"海南",checked:!1}]},{area:"东北",allcheck:!1,place:[{city:"辽宁",checked:!1},{city:"吉林",checked:!1},{city:"黑龙江",checked:!1}]},{area:"西北",allcheck:!1,place:[{city:"陕西",checked:!1},{city:"新疆",checked:!1},{city:"甘肃",checked:!1},{city:"宁夏",checked:!1},{city:"青海",checked:!1}]},{area:"西南",allcheck:!1,place:[{city:"重庆",checked:!1},{city:"云南",checked:!1},{city:"贵州",checked:!1},{city:"西藏",checked:!1},{city:"四川",checked:!1}]},{area:"港澳台",allcheck:!1,place:[{city:"香港",checked:!1},{city:"澳门",checked:!1},{city:"台湾",checked:!1}]},{area:"海外",allcheck:!1,place:[{city:"海外",checked:!1}]}],submitCities:[],watchItem:null}},props:["childrenState","defaultSelectedCity"],watch:{childrenState:function(){var e=this;e.state2=e.childrenState},defaultSelectedCity:{handler:function(){var e=this;if(e.defaultSelectedCity.length>0)for(var t in e.items){var a=!0;for(var c in e.items[t].place){for(var n in e.defaultSelectedCity)e.defaultSelectedCity[n]==e.items[t].place[c].city&&(e.items[t].place[c].checked=!0);0==e.items[t].place[c].checked&&(a=!1)}a&&(e.items[t].allcheck=!0)}},deep:!0},items:{handler:function(){},deep:!0},checkedCities:{handler:function(){for(var e=this,t=e.checkedCities,a=t.length-1;a>=0;a--)for(var c=t[a],n=0;n<a;n++)if(c==t[n]){t.splice(a,1);break}e.submitCities=t},deep:!0}},methods:{returnDefault:function(){var e=this;for(var t in e.items){e.items[t].allcheck=!1;for(var a in e.items[t].place)e.items[t].place[a].checked=!1}},handleClose:function(){this.returnDefault()},handleCheckAllChange:function(e){var t=this,a=e.place;if(1==e.allcheck){for(var c=0;c<a.length;c++)a[c].checked=!0,t.checkedCities.push(a[c].city);return!1}if(0==e.allcheck){for(var c=0;c<a.length;c++){a[c].checked=!1;for(var n=0;n<t.checkedCities.length;n++)t.checkedCities[n]==a[c].city&&t.checkedCities.splice(n,1)}return!1}},handleCheckedCitiesChange:function(e,t){var a=this;if(1==e.checked){var c=[];a.checkedCities.push(e.city);for(var n=0;n<t.place.length;n++)1==t.place[n].checked&&c.push(t.place[n].checked);c.length==t.place.length&&(t.allcheck=!0)}else{for(var n=0;n<t.place.length;n++)0==t.place[n].checked&&(t.allcheck=!1);for(var n=0;n<a.checkedCities.length;n++)if(a.checkedCities[n]==e.city){a.checkedCities.splice(n,1);break}}},lzy_returnData:function(){var e=this,t=[];for(var a in e.items)for(var c in e.items[a].place)1==e.items[a].place[c].checked&&t.push(e.items[a].place[c].city);return t},confirm:function(){var e=this,t=(e.submitCities,e.lzy_returnData());e.$emit("listenChildren",t),e.state2=!1,this.returnDefault()},cancel:function(){var e=this;e.$emit("listenChildren","1"),e.state2=!1,this.returnDefault()}}}},541:function(e,t,a){t=e.exports=a(347)(!0),t.push([e.i,".allChoose_box[data-v-23c152e2]{margin-top:20px}.allchecked[data-v-23c152e2]{width:20%;float:left}.allchecked_box[data-v-23c152e2]{width:80%;float:left}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/freightManner/tableBoard.vue"],names:[],mappings:"AACA,gCACE,eAAiB,CAClB,AACD,6BACE,UAAW,AACX,UAAY,CACb,AACD,iCACE,UAAW,AACX,UAAY,CACb",file:"tableBoard.vue",sourcesContent:["\n.allChoose_box[data-v-23c152e2] {\n  margin-top: 20px;\n}\n.allchecked[data-v-23c152e2] {\n  width: 20%;\n  float: left;\n}\n.allchecked_box[data-v-23c152e2] {\n  width: 80%;\n  float: left;\n}\n"],sourceRoot:""}])},593:function(e,t,a){t=e.exports=a(347)(!0),t.push([e.i,".freightSet .el-input{width:100px;padding-right:0}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/freightManner/freightSet.vue"],names:[],mappings:"AACA,sBACE,YAAa,AACb,eAAiB,CAClB",file:"freightSet.vue",sourcesContent:["\n.freightSet .el-input{\n  width: 100px;\n  padding-right: 0;\n}\n"],sourceRoot:""}])},594:function(e,t,a){t=e.exports=a(347)(!0),t.push([e.i,".btnWrap[data-v-8955e514]{text-align:right;padding:10px 0}.warp .warp-breadcrum[data-v-8955e514]{margin-bottom:10px}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/freightManner/freightSet.vue"],names:[],mappings:"AACA,0BACE,iBAAkB,AAClB,cAAgB,CACjB,AACD,uCACE,kBAAoB,CACrB",file:"freightSet.vue",sourcesContent:["\n.btnWrap[data-v-8955e514]{\n  text-align: right;\n  padding: 10px 0;\n}\n.warp .warp-breadcrum[data-v-8955e514]{\n  margin-bottom: 10px;\n}\n\n"],sourceRoot:""}])},668:function(e,t,a){var c=a(541);"string"==typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);a(348)("ee35948a",c,!0)},720:function(e,t,a){var c=a(593);"string"==typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);a(348)("0bac37e3",c,!0)},721:function(e,t,a){var c=a(594);"string"==typeof c&&(c=[[e.i,c,""]]),c.locals&&(e.exports=c.locals);a(348)("75795b4e",c,!0)},748:function(e,t,a){function c(e){a(668)}var n=a(4)(a(475),a(790),c,"data-v-23c152e2",null);e.exports=n.exports},790:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableBoard"},[a("el-dialog",{attrs:{title:"选择区域",visible:e.state2,"before-close":e.handleClose,"show-close":!1},on:{"update:visible":function(t){e.state2=t}}},[e._l(e.items,function(t){return a("div",{key:t,staticClass:"allChoose_bigbox"},[a("div",{staticClass:"allChoose_box"},[a("el-checkbox",{staticClass:"allchecked",attrs:{indeterminate:e.isIndeterminate},on:{change:function(a){e.handleCheckAllChange(t)}},model:{value:t.allcheck,callback:function(e){t.allcheck=e},expression:"item.allcheck"}},[e._v(e._s(t.area))]),e._v(" "),e._l(t.place,function(c){return a("el-checkbox",{key:c,attrs:{label:c.city},on:{change:function(a){e.handleCheckedCitiesChange(c,t)}},model:{value:c.checked,callback:function(e){c.checked=e},expression:"cities.checked"}},[e._v(e._s(c.city))])}),e._v(" "),a("div",{staticClass:"clearfix"})],2)])}),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirm()}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.cancel()}}},[e._v("取 消")])],1)],2)],1)},staticRenderFns:[]}},834:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"freightSet"},[a("el-row",{staticClass:"warp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("b",[e._v("运费管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("运费设置")])],1)],1),e._v(" "),a("el-col",[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"自定义邮费",name:"first"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tab1_tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"postCity",align:"center",label:"运送到"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.postCity))]),e._v(" "),t.row.changeState?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.tab1_editThis(t.$index,t.row)}}},[e._v("编辑")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"firstNum",align:"center",label:"首件数（件）",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{disabled:!e.row.changeState},model:{value:e.row.firstNum,callback:function(t){e.row.firstNum=t},expression:"scope.row.firstNum"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"firstMoney",align:"center",label:"首费（元）",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{disabled:!e.row.changeState},model:{value:e.row.firstMoney,callback:function(t){e.row.firstMoney=t},expression:"scope.row.firstMoney"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"addNum",align:"center",label:"续件数（件）",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{disabled:!e.row.changeState},model:{value:e.row.addNum,callback:function(t){e.row.addNum=t},expression:"scope.row.addNum"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"addMoney",align:"center",label:"续费（元）",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{disabled:!e.row.changeState},model:{value:e.row.addMoney,callback:function(t){e.row.addMoney=t},expression:"scope.row.addMoney"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"changeState",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.changeState?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.tab1_changeOne(t.$index)}}},[e._v("修改")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){e.tab1_saveOne(t.$index,t.row)}}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.tab1_delete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.tab1_allInputDisable,expression:"!tab1_allInputDisable"}],attrs:{type:"text"},on:{click:function(t){e.tab1_addOneFreight()}}},[e._v("为指定地区城市添加邮费")])],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"包邮",name:"fourth"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tab2_tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"postCity",align:"center",label:"选择地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.postCity))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"postCity",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.tab2_allInputDisable?e._e():a("el-button",{attrs:{type:"text"},on:{click:function(a){e.tab2_editThis(t.$index)}}},[e._v("编辑")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"firstNum",align:"center",label:"设置包邮金额",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("满")]),e._v(" "),a("el-input",{attrs:{disabled:e.tab2_allInputDisable},model:{value:t.row.freeShippingMoney,callback:function(e){t.row.freeShippingMoney=e},expression:"scope.row.freeShippingMoney"}}),e._v(" "),a("span",[e._v("元包邮")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",align:"center",label:"状态",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:e.tab2_allInputDisable},model:{value:t.row.state,callback:function(e){t.row.state=e},expression:"scope.row.state"}},[a("el-option",{attrs:{value:"停用",name:"停用"}},[e._v("停用")]),e._v(" "),a("el-option",{attrs:{value:"启用",name:"启用"}},[e._v("启用")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"addNum",align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.tab2_allInputDisable?a("el-button",{on:{click:function(a){e.tab2_change(t.$index)}}},[e._v("修改")]):a("el-button",{on:{click:function(a){e.tab2_save(t.$index,t.row)}}},[e._v("保存")])]}}])})],1)],1)],1)],1),e._v(" "),a("tableBoard",{attrs:{defaultSelectedCity:e.palceSelected,childrenState:e.state},on:{listenChildren:e.listenChildrenFun}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.5cca05ac98e0d97b561e.js.map