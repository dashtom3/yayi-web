webpackJsonp([19],{369:function(e,t,a){function i(e){a(691)}var s=a(4)(a(486),a(808),i,null,null);e.exports=s.exports},486:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(34),s=a(112),n=a.n(s);t.default={data:function(){return{ifShowBigImg:!1,searchUserContent:"",searchUserType:"真实姓名",searchType:"",searchState:"",certificationList:[],bigImgSrc:"",selectVal:"",pageProps:{pageNum:1,totalPage:1},userTypes:[{value:"",label:"全部"},{value:1,label:"个人"},{value:2,label:"机构"}],states:[{value:"",label:"全部"},{value:1,label:"待审核"},{value:2,label:"审核通过"},{value:3,label:"审核不通过"}]}},components:{paging:n.a},created:function(){this.search()},methods:{pageInitHandler:function(){this.pageProps.pageNum=1},selectOpt:function(e){this.selectVal=e,this.searchUserContent="",this.pageProps.pageNum=1},search:function(){var e,t=this;e="手机号"===this.selectVal?{phone:this.searchUserContent,trueName:"",companyName:"",type:this.searchType,state:this.searchState,currentPage:this.pageProps.pageNum,numberPerPage:4}:"真实姓名"===this.selectVal?{phone:"",trueName:this.searchUserContent,companyName:"",type:this.searchType,state:this.searchState,currentPage:this.pageProps.pageNum,numberPerPage:4}:"单位名称"===this.selectVal?{phone:"",trueName:"",companyName:this.searchUserContent,type:this.searchType,state:this.searchState,currentPage:this.pageProps.pageNum,numberPerPage:4}:{phone:"",trueName:this.searchUserContent,companyName:"",type:this.searchType,state:this.searchState,currentPage:this.pageProps.pageNum,numberPerPage:4},i.a.axiosGetReq("/userCertificationList/list",e).then(function(e){"SUCCEED"===e.data.callStatus?(t.certificationList=e.data.data,t.pageProps.totalPage=e.data.totalPage):t.$message.error("网络出错，请稍后再试！")})},pass:function(e){var t=this;this.$confirm("确定通过审核吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.certificationList[e].certification.state="2";var a={phone:t.certificationList[e].phone,state:t.certificationList[e].certification.state,failReason:"",token:"f02fa6e1-ddbe-462d-af65-b9ca4f4835e2"};i.a.axiosPostReq("/userCertificationList/verify",a).then(function(e){"SUCCEED"===e.data.callStatus?(t.$message({type:"success",message:"审核通过!"}),t.search()):t.$message({type:"info",message:"审核取消"})})})},dontPass:function(e){var t=this;this.$prompt("拒绝理由","确定审核不通过吗?",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var s=a.value;t.certificationList[e].certification.state="3";var n={phone:t.certificationList[e].phone,state:t.certificationList[e].certification.state,failReason:s,token:"f02fa6e1-ddbe-462d-af65-b9ca4f4835e2"};console.log("ceshi jujue",n),i.a.axiosPostReq("/userCertificationList/verify",n).then(function(e){"SUCCEED"===e.data.callStatus?(t.$message({type:"success",message:"审核不通过!"}),t.search()):t.$message({type:"info",message:"审核取消"})})})},showBigImg:function(e){this.ifShowBigImg=!0,this.bigImgSrc=this.certificationList[e].certification.doctorPic},pageHandler:function(e){this.pageProps.pageNum=e,this.search()}}}},564:function(e,t,a){t=e.exports=a(347)(!0),t.push([e.i,".certificationWarp .el-select .el-input{min-width:110px;max-width:150px}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/userManner/certificationList.vue"],names:[],mappings:"AACA,wCACI,gBAAiB,AACjB,eAAiB,CACpB",file:"certificationList.vue",sourcesContent:["\n.certificationWarp .el-select .el-input {\n    min-width: 110px;\n    max-width: 150px;\n}\n\n"],sourceRoot:""}])},691:function(e,t,a){var i=a(564);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(348)("255109fa",i,!0)},808:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"certificationWarp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("b",[e._v("用户管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("资质列表")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","padding-top":"20px"}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{on:{change:e.pageInitHandler},model:{value:e.searchUserContent,callback:function(t){e.searchUserContent=t},expression:"searchUserContent"}},[a("el-select",{on:{change:e.selectOpt},slot:"prepend",model:{value:e.searchUserType,callback:function(t){e.searchUserType=t},expression:"searchUserType"}},[a("el-option",{attrs:{label:"真实姓名",value:"真实姓名"}}),e._v(" "),a("el-option",{attrs:{label:"手机号",value:"手机号"}}),e._v(" "),a("el-option",{attrs:{label:"单位名称",value:"单位名称"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"类型："}},[a("el-select",{on:{change:e.pageInitHandler},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.userTypes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{on:{change:e.pageInitHandler},model:{value:e.searchState,callback:function(t){e.searchState=t},expression:"searchState"}},e._l(e.states,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"照片大图",visible:e.ifShowBigImg},on:{"update:visible":function(t){e.ifShowBigImg=t}}},[a("img",{staticStyle:{width:"350px",height:"350px",display:"block",margin:"auto"},attrs:{src:e.bigImgSrc}})]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.certificationList,border:""}},[a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"certification.type",align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.certification.type?a("span",[e._v("个人")]):2===t.row.certification.type?a("span",[e._v("机构")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"certification.companyName",align:"center",label:"单位名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"所在地"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.certification.part))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"certification.workAddress",align:"center",label:"详细地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"certification.doctorPic",align:"center",label:"资格证","class-name":"imgWrap"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看大图",placement:"left"}},[a("img",{staticStyle:{width:"150px",height:"150px",cursor:"pointer","vertical-align":"middle"},attrs:{src:e.certificationList[t.$index].certification.doctorPic},on:{click:function(a){e.showBigImg(t.$index)}}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.certification.state?a("span",[e._v("待审核")]):2===t.row.certification.state?a("span",[e._v("审核通过")]):a("span",[e._v("审核不通过")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==e.certificationList[t.$index].certification.state?a("span",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.pass(t.$index)}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.dontPass(t.$index)}}},[e._v("不通过")])],1):e._e()]}}])})],1),e._v(" "),a("paging",{directives:[{name:"show",rawName:"v-show",value:this.certificationList.length,expression:"this.certificationList.length"}],staticStyle:{position:"absolute",top:"800px",right:"0"},attrs:{childmsg:e.pageProps},on:{childSay:e.pageHandler}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=19.88db589ad8d743f824c6.js.map