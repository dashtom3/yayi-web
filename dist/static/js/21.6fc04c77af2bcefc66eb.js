webpackJsonp([21],{366:function(e,t,a){function n(e){a(680)}var s=a(4)(a(483),a(801),n,null,null);e.exports=s.exports},483:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(34),s=a(112),i=a.n(s);t.default={data:function(){return{noBindSearchType:"手机号",BindSearchType:"手机号",headImg:"",pageProps:{pageNum:1,totalPage:1},d_pageProps:{pageNum:1,totalPage:1},noBindSearchContent:null,BindSearchContent:null,multipleSelection1:[],multipleSelection2:[],activeName2:"first",showSaleDetailInfor:!1,bindSalseAlert:!1,searchUserContent:"",searchUserType:"手机号",searchState:"",salePhone:"",bindedUserList:[],noBindUserList:[],someOneUserDetails:{info:{},getMoneyStyle:{},bindUsers:[]},salesList:[],userTypes:[{value:"不限",label:"不限"},{value:"个人",label:"个人"},{value:"机构",label:"机构"}],states:[{value:"",label:"全部"},{value:"1",label:"是"},{value:"2",label:"否"}],userList:[]}},components:{paging:i.a},watch:{multipleSelection1:{handler:function(){},deep:!0},bindSalseAlert:function(){this.bindSalseAlert||this.queryHandler()}},computed:{partFormate:function(){return this.someOneUserDetails.info.part&&this.someOneUserDetails.info.part.split(",").join("/")},sexShow:function(){return 2===this.someOneUserDetails.info.sex?"女":"男"},regTimeFormate:function(){return new Date(this.someOneUserDetails.info.created).getFullYear()+"-"+this.fillZero(new Date(this.someOneUserDetails.info.created).getMonth()+1)+"-"+this.fillZero(new Date(this.someOneUserDetails.info.birthday).getDate())},birthdayFormate:function(){return new Date(this.someOneUserDetails.info.birthday).getFullYear()+"-"+this.fillZero(new Date(this.someOneUserDetails.info.birthday).getMonth()+1)+"-"+this.fillZero(new Date(this.someOneUserDetails.info.birthday).getDate())}},created:function(){this.queryHandler()},methods:{tabHandler:function(e,t){"first"===e.name?this.noBindSearch():"second"===e.name&&this.BindSearch()},fillZero:function(e){return e<10?"0"+e:e},selectOpt:function(e){this.searchUserType=e,this.searchUserContent=""},selectOption:function(e){this.noBindSearchType=e,this.noBindSearchContent=""},queryHandler:function(){var e,t=this;"手机号"===this.searchUserType?e={saleId:"",phone:this.searchUserContent,trueName:"",isBindUser:this.searchState,currentPage:this.pageProps.pageNum,numberPerPage:10}:"真实姓名"===this.searchUserType&&(e={saleId:"",phone:"",trueName:this.searchUserContent,isBindUser:this.searchState,currentPage:this.pageProps.pageNum,numberPerPage:10}),n.a.axiosGetReq("/saleList/query",e).then(function(e){"SUCCEED"===e.data.callStatus&&(t.salesList=e.data.data)})},pageHandler:function(e){this.pageProps.pageNum=e,this.queryHandler()},d_pageHandler:function(e){this.d_pageProps.pageNum=e},BindSearch:function(){var e=this,t=void 0;"手机号"===this.BindSearchType?t={salePhone:this.salePhone,userPhone:this.BindSearchContent,trueName:"",companyName:"",isBind:2}:"真实姓名"===this.BindSearchType?t={salePhone:this.salePhone,userPhone:"",trueName:this.BindSearchContent,companyName:"",isBind:2}:"单位名称"===this.BindSearchType&&(t={salePhone:this.salePhone,userPhone:"",trueName:"",companyName:this.BindSearchContent,isBind:2}),n.a.axiosGetReq("/saleList/userlist",t).then(function(t){"SUCCEED"===t.data.callStatus&&(e.bindedUserList=t.data.data)})},noBindSearch:function(){var e=this,t=void 0;"手机号"===this.noBindSearchType?t={salePhone:this.salePhone,userPhone:this.noBindSearchContent,trueName:"",companyName:"",isBind:1}:"真实姓名"===this.noBindSearchType?t={salePhone:this.salePhone,userPhone:"",trueName:this.noBindSearchContent,companyName:"",isBind:1}:"单位名称"===this.noBindSearchType&&(t={salePhone:this.salePhone,userPhone:"",trueName:"",companyName:this.noBindSearchContent,isBind:1}),n.a.axiosGetReq("/saleList/userlist",t).then(function(t){"SUCCEED"===t.data.callStatus&&(e.noBindUserList=t.data.data)})},bindAlertSearch:function(){var e=this,t=[];if(0==e.multipleSelection1.length)e.$alert("最少选择一个",{confirmButtonText:"确定！"});else{for(var a=0;a<e.multipleSelection1.length;a++)t.push(e.multipleSelection1[a].phone);var s={salePhone:e.salePhone,userPhone:t};n.a.axiosPostReq("/saleList/bind",s).then(function(t){"SUCCEED"===t.data.callStatus&&e.$message({type:"success",message:"绑定成功!"})}),e.BindSearch(),e.noBindSearch()}},cancleBindAlert:function(){var e=this,t=[];if(0==e.multipleSelection2.length)e.$alert("最少选择一个",{confirmButtonText:"确定！"});else{for(var a=0;a<e.multipleSelection2.length;a++)t.push(e.multipleSelection2[a].phone);var s={salePhone:e.salePhone,userPhone:t};n.a.axiosPostReq("/saleList/disBind",s).then(function(t){"SUCCEED"===t.data.callStatus&&e.$message({type:"success",message:"取消绑定成功!"})}),e.BindSearch(),e.noBindSearch()}},bindThisUser:function(e,t){var a=this;this.userList.push(e.phone);var s={salePhone:this.salePhone,userPhone:this.userList};n.a.axiosPostReq("/saleList/bind",s).then(function(e){"SUCCEED"===e.data.callStatus&&(a.$message({type:"success",message:"绑定成功!"}),a.BindSearch(),a.noBindSearch())})},cancleBindThisUser:function(e,t){var a=this;this.userList.push(e.phone);var s={salePhone:this.salePhone,userPhone:this.userList};console.log("单个取消绑定",s),n.a.axiosPostReq("/saleList/disBind",s).then(function(e){"SUCCEED"===e.data.callStatus&&(a.$message({type:"success",message:"取消绑定成功!"}),a.BindSearch(),a.noBindSearch())})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable1.toggleRowSelection(e)}):this.$refs.multipleTable1.clearSelection()},handleSelectionChange1:function(e){this.multipleSelection1=e},handleSelectionChange2:function(e){this.multipleSelection2=e},bindUser:function(e,t){this.bindSalseAlert=!0,this.activeName2="first",this.salePhone=t.phone,this.noBindSearch(),this.BindSearch()},cancleBindUser:function(e,t){this.bindSalseAlert=!0,this.activeName2="second",this.salePhone=t.phone,this.BindSearch(),this.noBindSearch()},saleDetail:function(e,t){var a=this;this.showSaleDetailInfor=!0;var s={phone:t.phone,currentPage:this.d_pageProps.pageNum,numberPerPage:10};n.a.axiosGetReq("/saleList/detail",s).then(function(e){"SUCCEED"===e.data.callStatus&&(a.someOneUserDetails.info=e.data.data,a.someOneUserDetails.bindUsers=e.data.data.user,a.someOneUserDetails.getMoneyStyle={postalType:e.data.data.postalType,bankName:e.data.data.bankName,openName:e.data.data.openName,accountNumber:e.data.data.accountNumber},a.headImg=e.data.data.salePic)})}}}},553:function(e,t,a){t=e.exports=a(347)(!0),t.push([e.i,".saleListWarp .el-select .el-input{width:120px}.saleListWarp h4{line-height:50px}.saleListWarp .asgagewgf h3{font-weight:500;line-height:50px;color:#20a0ff}.saleListWarp .asgagewgf .personalInfor{position:relative}.saleListWarp .asgagewgf .personalInfor img{position:absolute;top:0;right:0;width:150px;height:150px}.saleListWarp .asgagewgf span{width:40%;display:inline-block;line-height:35px}.t_input_w{width:320px!important}.t_select_width{width:120px}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/salesManner/salesList.vue"],names:[],mappings:"AACA,mCACE,WAAa,CACd,AACD,iBACI,gBAAkB,CACrB,AAID,4BACI,gBAAiB,AACjB,iBAAkB,AAClB,aAAe,CAClB,AACD,wCACI,iBAAmB,CACtB,AACD,4CACI,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,YAAa,AACb,YAAc,CACjB,AACD,8BACI,UAAW,AACX,qBAAsB,AACtB,gBAAkB,CACrB,AACD,WACE,qBAAsB,CACvB,AACD,gBACE,WAAY,CACb",file:"salesList.vue",sourcesContent:["\n.saleListWarp .el-select .el-input{\n  width: 120px;\n}\n.saleListWarp h4{\n    line-height: 50px;\n}\n/*.saleListWarp .el-input__inner{\n  width: 200px;\n}*/\n.saleListWarp   .asgagewgf h3{\n    font-weight: 500;\n    line-height: 50px;\n    color: #20a0ff;\n}\n.saleListWarp   .asgagewgf .personalInfor{\n    position: relative;\n}\n.saleListWarp   .asgagewgf .personalInfor img{\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 150px;\n    height: 150px;\n}\n.saleListWarp   .asgagewgf  span{\n    width: 40%;\n    display: inline-block;\n    line-height: 35px;\n}\n.t_input_w{\n  width:320px!important;\n}\n.t_select_width{\n  width:120px;\n}\n\n"],sourceRoot:""}])},680:function(e,t,a){var n=a(553);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(348)("46075982",n,!0)},801:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"saleListWarp"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("b",[e._v("销售员管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("销售员列表")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","padding-top":"20px"}},[a("el-form",{staticClass:"clearfix",attrs:{inline:!0}},[a("el-form-item",[a("el-input",{staticClass:"fl t_input_w",model:{value:e.searchUserContent,callback:function(t){e.searchUserContent=t},expression:"searchUserContent"}},[a("el-select",{staticClass:"fl t_select_width",attrs:{placeholder:"请选择"},on:{change:e.selectOpt},slot:"prepend",model:{value:e.searchUserType,callback:function(t){e.searchUserType=t},expression:"searchUserType"}},[a("el-option",{attrs:{label:"手机号",value:"手机号"}}),e._v(" "),a("el-option",{attrs:{label:"真实姓名",value:"真实姓名"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否绑定客户："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchState,callback:function(t){e.searchState=t},expression:"searchState"}},e._l(e.states,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.queryHandler}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.bindSalseAlert},on:{"update:visible":function(t){e.bindSalseAlert=t}}},[a("h4",[e._v("当前已绑定人数（人）："),a("span",[e._v(e._s(e.bindedUserList.length))])]),e._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.tabHandler},model:{value:e.activeName2,callback:function(t){e.activeName2=t},expression:"activeName2"}},[a("el-tab-pane",{attrs:{label:"未绑定",name:"first"}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.noBindSearchContent,callback:function(t){e.noBindSearchContent=t},expression:"noBindSearchContent"}},[a("el-select",{on:{change:e.selectOption},slot:"prepend",model:{value:e.noBindSearchType,callback:function(t){e.noBindSearchType=t},expression:"noBindSearchType"}},[a("el-option",{attrs:{label:"手机号",value:"手机号"}}),e._v(" "),a("el-option",{attrs:{label:"真实姓名",value:"真实姓名"}}),e._v(" "),a("el-option",{attrs:{label:"单位名称",value:"单位名称"}})],1),e._v(" "),a("el-button",{attrs:{icon:"search"},on:{click:function(t){e.noBindSearch()}},slot:"append"})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"font-size":"40px",float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.bindAlertSearch()}}},[e._v("绑定")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.noBindUserList,border:"",height:"500"},on:{"selection-change":e.handleSelectionChange1}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"certification.companyName",align:"center",label:"单位名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.bindThisUser(t.row,t.$index)}}},[e._v("绑定")])]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"已绑定",name:"second"}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.BindSearchContent,callback:function(t){e.BindSearchContent=t},expression:"BindSearchContent"}},[a("el-select",{attrs:{placeholder:"请选择"},slot:"prepend",model:{value:e.BindSearchType,callback:function(t){e.BindSearchType=t},expression:"BindSearchType"}},[a("el-option",{attrs:{label:"手机号",value:"手机号"}}),e._v(" "),a("el-option",{attrs:{label:"真实姓名",value:"真实姓名"}}),e._v(" "),a("el-option",{attrs:{label:"单位名称",value:"单位名称"}})],1),e._v(" "),a("el-button",{attrs:{icon:"search"},on:{click:function(t){e.BindSearch()}},slot:"append"})],1)],1),e._v(" "),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.cancleBindAlert()}}},[e._v("取消绑定")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable1",staticStyle:{width:"100%"},attrs:{data:e.bindedUserList,border:"",height:"500"},on:{"selection-change":e.handleSelectionChange2}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"certification.companyName",align:"center",label:"单位名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.cancleBindThisUser(t.row,t.$index)}}},[e._v("取消绑定")])]}}])})],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{"custom-class":"asgagewgf",title:"销售员详情",visible:e.showSaleDetailInfor},on:{"update:visible":function(t){e.showSaleDetailInfor=t}}},[a("div",{staticClass:"personalInfor"},[a("img",{staticStyle:{"padding-right":"50px"},attrs:{src:e.headImg,alt:"头像"}}),e._v(" "),a("h3",[e._v("个人资料")]),e._v(" "),a("div",[a("span",[e._v("真实姓名："+e._s(e.someOneUserDetails.info.trueName))])]),e._v(" "),a("div",[a("span",[e._v("手机号："+e._s(e.someOneUserDetails.info.phone))]),e._v(" "),a("span",[e._v("性别："+e._s(e.sexShow))])]),e._v(" "),a("div",[a("span",[e._v("微信："+e._s(e.someOneUserDetails.info.weChar))]),e._v(" "),a("span",[e._v("邮箱："+e._s(e.someOneUserDetails.info.email))])]),e._v(" "),a("div",[a("span",[e._v("出生日期："+e._s(e.birthdayFormate))]),e._v(" "),a("span",[e._v("学历："+e._s(e.someOneUserDetails.info.education))])]),e._v(" "),a("div",[a("span",[e._v("工作单位："+e._s(e.someOneUserDetails.info.workUnit))]),e._v(" "),a("span",[e._v("工作职位："+e._s(e.someOneUserDetails.info.workPosition))])]),e._v(" "),a("div",[a("span",[e._v("所在地省市区："+e._s(e.partFormate))]),e._v(" "),a("span",[e._v("详细地址："+e._s(e.someOneUserDetails.info.address))])]),e._v(" "),a("div",[a("span",[e._v("身份证号："+e._s(e.someOneUserDetails.info.idCard))]),e._v(" "),a("span",[e._v("注册时间："+e._s(e.regTimeFormate))])]),e._v(" "),a("div",[a("span",[e._v("钱包余额："+e._s(e.someOneUserDetails.info.money))]),e._v(" "),a("span",[e._v("已绑定的客户数："+e._s(e.someOneUserDetails.info.bindUserNum))])])]),e._v(" "),a("div",{staticClass:"certification"},[a("h3",[e._v("提现方式")]),e._v(" "),a("div",[a("span",[e._v("类型："+e._s(e.someOneUserDetails.getMoneyStyle.postalType))]),e._v(" "),this.someOneUserDetails.getMoneyStyle.bankName?a("span",[e._v("银行："+e._s(e.someOneUserDetails.getMoneyStyle.bankName))]):e._e()]),e._v(" "),a("div",[a("span",[e._v("开户者："+e._s(e.someOneUserDetails.getMoneyStyle.openName))]),e._v(" "),a("span",[e._v("账号："+e._s(e.someOneUserDetails.getMoneyStyle.accountNumber))])])]),e._v(" "),a("h3",[e._v("绑定的客户信息")]),e._v(" "),a("el-table",{attrs:{data:e.someOneUserDetails.bindUsers,border:""}},[a("el-table-column",{attrs:{align:"center",property:"userId",label:"用户编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",property:"phone",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",property:"trueName",label:"真实姓名",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",property:"certification.companyName",label:"单位名称"}})],1),e._v(" "),a("paging",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{childmsg:e.d_pageProps},on:{childSay:e.d_pageHandler}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.salesList,border:""}},[a("el-table-column",{attrs:{prop:"trueName",align:"center",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"created",align:"center",label:"注册时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.created).getFullYear()+"-"+e.fillZero(new Date(t.row.created).getMonth()+1)+"-"+e.fillZero(new Date(t.row.created).getDate())))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isBindUser",align:"center",label:"是否绑定客户"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.isBindUser?a("span",[e._v("是")]):2===t.row.isBindUser?a("span",[e._v("否")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"bindUserNum",align:"center",label:"客户数量"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.isBindUser?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.bindUser(t.$index,t.row)}}},[e._v("绑定客户")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){e.cancleBindUser(t.$index,t.row)}}},[e._v("取消绑定")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.saleDetail(t.$index,t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("paging",{staticStyle:{"text-align":"center","margin-top":"20px"},attrs:{childmsg:e.pageProps},on:{childSay:e.pageHandler}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=21.6fc04c77af2bcefc66eb.js.map