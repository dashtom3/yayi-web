webpackJsonp([15],{370:function(e,t,a){function n(e){a(663)}var r=a(4)(a(487),a(786),n,null,null);e.exports=r.exports},383:function(e,t,a){"use strict";function n(e,t){for(var a=t-(e+"").length,n=0;n<a;n++)e="0"+e;return e}var r=/([yMdhsm])(\1*)/g;t.a={getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t),n="";return null!=a&&(n=a[2]),t=null,a=null,null===n||""===n||"undefined"===n?"":n},formatDate:{format:function(e,t){return t=t||"yyyy-MM-dd",t.replace(r,function(t){switch(t.charAt(0)){case"y":return n(e.getFullYear(),t.length);case"M":return n(e.getMonth()+1,t.length);case"d":return n(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return n(e.getHours(),t.length);case"m":return n(e.getMinutes(),t.length);case"s":return n(e.getSeconds(),t.length)}})},parse:function(e,t){var a=t.match(r),n=e.match(/(\d)+/g);if(a.length===n.length){for(var o=new Date(1970,0,1),s=0;s<a.length;s++){var l=parseInt(n[s]);switch(a[s].charAt(0)){case"y":o.setFullYear(l);break;case"M":o.setMonth(l-1);break;case"d":o.setDate(l);break;case"h":o.setHours(l);break;case"m":o.setMinutes(l);break;case"s":o.setSeconds(l)}}return o}return null}}}},487:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(383),r=a(112),o=a.n(r);t.default={data:function(){return{pickerOptions0:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},pickerOptions1:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},searchDataPrev:[],startDate:"",endDate:"",searchUserId:"",nowUserMoneyNum:"",yayiCoin:"",selectSearchType:"手机号",showChangeUserMoney:!1,loadingCheck:!1,loadingCheckHead:!1,moneyList:[],pageProps:{pageNum:1,totalPage:1}}},components:{paging:o.a},created:function(){this.getClassify()},methods:{pageHandler:function(e){var t=this;t.pageProps.pageNum=e,t.getClassify()},getClassify:function(){var e=this,t={phone:e.searchUserId,startDate:e.startDate,endDate:e.endDate,currentPage:e.pageProps.pageNum,numberPerPage:10,token:""};e.global.axiosGetReq("/userQbList/list",t).then(function(t){if("SUCCEED"===t.data.callStatus){e.moneyList=t.data.data,e.pageProps.totalPage=t.data.totalPage;for(var a=0;a<e.moneyList.length;a++)e.moneyList[a].time=n.a.formatDate.format(new Date(e.moneyList[a].qbTime));e.startDate="",e.endDate="",console.log(t,"popop")}else e.$message.error("网络出错，请稍后再试！")})},searchAll:function(){var e=this;if(e.pageProps.pageNum=1,0==e.searchDataPrev.length||null==e.searchDataPrev[0]){var t={phone:e.searchUserId,startDate:e.startDate,endDate:e.endDate,currentPage:e.pageProps.pageNum,numberPerPage:10,token:""};e.loadingCheckHead=!0,e.global.axiosGetReq("/userQbList/list",t).then(function(t){if("SUCCEED"===t.data.callStatus){e.loadingCheckHead=!1,e.moneyList=t.data.data,e.pageProps.totalPage=t.data.totalPage;for(var a=0;a<e.moneyList.length;a++)e.moneyList[a].time=n.a.formatDate.format(new Date(e.moneyList[a].qbTime));e.startDate="",e.endDate=""}else e.loadingCheckHead=!1,e.$message.error("网络出错，请稍后再试！")})}else{e.startDate=n.a.formatDate.format(new Date(e.searchDataPrev[0])),e.endDate=n.a.formatDate.format(new Date(e.searchDataPrev[1]));var t={phone:e.searchUserId,startDate:e.startDate,endDate:e.endDate,currentPage:e.pageProps.pageNum,numberPerPage:10,token:""};e.loadingCheckHead=!0,e.global.axiosGetReq("/userQbList/list",t).then(function(t){if("SUCCEED"===t.data.callStatus){console.log(t.data),e.loadingCheckHead=!1,e.moneyList=t.data.data,e.pageProps.totalPage=t.data.totalPage;for(var a=0;a<e.moneyList.length;a++)e.moneyList[a].time=n.a.formatDate.format(new Date(e.moneyList[a].qbTime))}})}},search:function(){var e=this;if(e.pageProps.pageNum=1,""==e.nowUserMoneyNum)return e.$message.error("请填写手机号！"),!1;var t={userPhone:e.nowUserMoneyNum};e.loadingCheck=!0,e.global.axiosGetReq("/userQbList/queryQb",t).then(function(t){"FAILED"===t.data.callStatus&&(e.loadingCheck=!1,e.yayiCoin="",e.$message.error("手机号不存在！")),"SUCCEED"===t.data.callStatus&&(e.loadingCheck=!1,e.yayiCoin=t.data.data.qbBalance)})},changeUserMoney:function(){this.showChangeUserMoney=!0},saveUserMoney:function(){var e=this;if(""==e.nowUserMoneyNum)return e.$message.error("请输入手机号！"),!1;if(""==e.yayiCoin)return e.$message.error("请输入乾币数量！"),!1;var t={phone:e.nowUserMoneyNum,qbBalance:e.yayiCoin,token:""};console.log(t),e.global.axiosPostReq("/userQbList/update",t).then(function(t){console.log(t),"SUCCEED"===t.data.callStatus?(e.pageProps.pageNum=1,e.getClassify(),e.nowUserMoneyNum="",e.yayiCoin="",e.showChangeUserMoney=!1):e.$message.error("手机号不存在！")})},handleClose:function(){var e=this;e.nowUserMoneyNum="",e.yayiCoin="",e.showChangeUserMoney=!1}}}},536:function(e,t,a){t=e.exports=a(347)(!0),t.push([e.i,".moneyWrap .el-select .el-input{min-width:110px}.pageC{text-align:center;margin-top:20px;position:fixed;bottom:50px;right:20px}","",{version:3,sources:["/Users/daifeili/yayi-web/src/components/admin/userManner/moneyList.vue"],names:[],mappings:"AACA,gCACI,eAAiB,CACpB,AACD,OACI,kBAAmB,AACnB,gBAAiB,AACjB,eAAgB,AAChB,YAAa,AACb,UAAY,CAGf",file:"moneyList.vue",sourcesContent:["\n.moneyWrap .el-select .el-input {\n    min-width: 110px;\n}\n.pageC {\n    text-align: center;\n    margin-top: 20px; \n    position: fixed; \n    bottom: 50px; \n    right: 20px; \n/*    left: 0px; \n    margin: 0 auto;*/\n}\n"],sourceRoot:""}])},663:function(e,t,a){var n=a(536);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(348)("712b5166",n,!0)},786:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"moneyWrap"},[a("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("b",[e._v("用户管理")])]),e._v(" "),a("el-breadcrumb-item",[e._v("乾币列表")])],1)],1),e._v(" "),a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","padding-top":"20px"}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"用户手机号："}},[a("el-input",{model:{value:e.searchUserId,callback:function(t){e.searchUserId=t},expression:"searchUserId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时间："}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期"},model:{value:e.searchDataPrev,callback:function(t){e.searchDataPrev=t},expression:"searchDataPrev"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loadingCheckHead},on:{click:e.searchAll}},[e._v("查询")])],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right","line-height":"40px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.changeUserMoney}},[a("i",{staticClass:"el-icon-edit"}),e._v("修改用户乾币")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.moneyList,border:""}},[a("el-table-column",{attrs:{prop:"user.phone",width:"200px",align:"center",label:"用户手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qbRget",align:"center",label:"收入"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qbRout",align:"center",label:"支出"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qbBalances",align:"center",label:"余额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"time",align:"center",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",align:"center",label:"描述"}})],1),e._v(" "),a("el-dialog",{attrs:{"custom-class":"",title:"修改用户乾币：",visible:e.showChangeUserMoney,"before-close":e.handleClose},on:{"update:visible":function(t){e.showChangeUserMoney=t}}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{model:{value:e.nowUserMoneyNum,callback:function(t){e.nowUserMoneyNum=t},expression:"nowUserMoneyNum"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:!0},slot:"prepend",model:{value:e.selectSearchType,callback:function(t){e.selectSearchType=t},expression:"selectSearchType"}},[a("el-option",{attrs:{label:"手机号",value:"1"}})],1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loadingCheck},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"当前乾币币数："}},[a("el-input",{model:{value:e.yayiCoin,callback:function(t){e.yayiCoin=t},expression:"yayiCoin"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveUserMoney}},[e._v("保存")])],1)],1)],1),e._v(" "),a("paging",{staticClass:"pageC",attrs:{childmsg:e.pageProps},on:{childSay:e.pageHandler}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=15.4a8df9679960bc1c815c.js.map