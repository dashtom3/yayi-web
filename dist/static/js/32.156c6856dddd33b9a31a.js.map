{"version":3,"sources":["webpack:///static/js/32.156c6856dddd33b9a31a.js","webpack:///./src/components/admin/bsseInfoManner/classfy.vue","webpack:///classfy.vue","webpack:///./src/components/admin/bsseInfoManner/classfy.vue?eecb","webpack:///./src/components/admin/bsseInfoManner/classfy.vue?44ad","webpack:///./src/components/admin/bsseInfoManner/classfy.vue?ede2"],"names":["webpackJsonp","357","module","exports","__webpack_require__","injectStyle","ssrContext","Component","483","__webpack_exports__","Object","defineProperty","value","_typeof","Symbol","iterator","obj","constructor","prototype","data","ruleForm","upClass","classname","oldClassname","itemId","itemClassifyGrade","searchClassfyName","searchParentClassfyName","PreviousClassify","classfyOperaType","classfyChangeIndex","options","dialogFormVisible","formLabelWidth","bindTitle","tableData","rules","type","required","message","trigger","a","addNew","pagesize","currentPage","totalCount","created","that","this","getClassify","getAllClassify","methods","handleCurrentChange","val","search","numberPerPage","global","axiosGetReq","then","res","callStatus","totalNumber","$message","error","classifyList","i","length","label","oneClassify","children","classifyTwoList","k","classifyTwoName","optionsNew","addClassfy","undefined","itemClassifyName","itemPreviousClassify","axiosPostReq","DELEONE","scope","$confirm","confirmButtonText","cancelButtonText","itemClassifyId","row","console","log","catch","changeOneAttr","saveOneAttrs","formName","$refs","validate","valid","slice","itemOldName","handleClose","563","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","693","content","locals","815","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","separator","_v","staticStyle","padding-bottom","inline","model","callback","$$v","expression","on","click","$event","text-align","line-height","width","border","prop","align","scopedSlots","_u","key","fn","directives","name","rawName","current-page","page-size","layout","total","current-change","update:currentPage","title","visible","before-close","update:visible","ref","label-width","props","show-all-levels","change-on-select","icon","slot","_s","auto-complete","staticRenderFns"],"mappings":"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","file":"static/js/32.156c6856dddd33b9a31a.js","sourcesContent":["webpackJsonp([32],{\n\n/***/ 357:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(693)\n}\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(483),\n  /* template */\n  __webpack_require__(815),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 483:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      ruleForm: {\n        upClass: [],\n        classname: '',\n        oldClassname: '',\n        itemId: null,\n        itemClassifyGrade: null\n      },\n      searchClassfyName: '',\n      searchParentClassfyName: '',\n      PreviousClassify: '',\n      // 1是增加，2是修改\n      classfyOperaType: 1,\n      classfyChangeIndex: null,\n      options: [],\n      dialogFormVisible: false,\n      formLabelWidth: '120px',\n      bindTitle: null,\n      // -----------------------------\n      tableData: [],\n      rules: {\n        upClass: [{ type: 'array', required: true, message: '请选择上级分类', trigger: 'blur' }],\n        classname: [{ required: true, message: '请输入分类名称', trigger: 'blur' }]\n      },\n      a: [],\n      addNew: true,\n      //默认每页数据量\n      pagesize: 10,\n      //当前页码\n      currentPage: 1,\n      //默认数据总数\n      totalCount: 0\n      // formLabelWidth: '120px'\n      // -----------------------------------\n    };\n  },\n\n  created: function created() {\n    var that = this;\n    that.getClassify();\n    that.getAllClassify();\n  },\n  methods: {\n    //分页\n    handleCurrentChange: function handleCurrentChange(val) {\n      var that = this;\n      that.currentPage = val;\n      that.search(val);\n    },\n\n    //获取分类列表\n    getClassify: function getClassify() {\n      var that = this;\n      var obj = {\n        currentPage: that.currentPage,\n        numberPerPage: that.pagesize\n      };\n      that.global.axiosGetReq('/item/showItemClassify', obj).then(function (res) {\n        if (res.data.callStatus === 'SUCCEED') {\n          that.tableData = res.data.data;\n          that.totalCount = res.data.totalNumber;\n        } else {\n          that.$message.error('网络出错，请稍后再试！');\n        }\n      });\n    },\n    //获取所有分类列表\n    getAllClassify: function getAllClassify() {\n      var that = this;\n      that.global.axiosGetReq('/item/getAllClassifyAndBrand').then(function (res) {\n        // console.log(res.data);\n        if (res.data.callStatus === 'SUCCEED') {\n          that.options = res.data.data.classifyList;\n          for (var i = 0; i < that.options.length; i++) {\n            that.options[i].label = that.options[i].oneClassify;\n            that.options[i].children = that.options[i].classifyTwoList;\n            for (var k in that.options[i].children) {\n              that.options[i].children[k].label = that.options[i].children[k].classifyTwoName;\n            }\n          }\n          var optionsNew = [{\n            label: '根节点',\n            children: []\n          }];\n          optionsNew[0].children = that.options;\n          that.options = optionsNew;\n        } else {\n          that.$message.error('网络出错，请稍后再试！');\n        }\n      });\n    },\n    // 添加商品分类\n    addClassfy: function addClassfy() {\n      var that = this;\n      that.bindTitle = \"添加商品分类\";\n      that.dialogFormVisible = true;\n      that.addNew = true;\n    },\n    // 查询分类\n    search: function search(val) {\n      var that = this;\n      if (val == undefined || (typeof val === 'undefined' ? 'undefined' : _typeof(val)) == 'object') {\n        that.currentPage = 1;\n      } else {\n        that.currentPage = val;\n      }\n      var obj = {\n        itemClassifyName: that.searchClassfyName,\n        itemPreviousClassify: that.searchParentClassfyName,\n        currentPage: that.currentPage,\n        numberPerPage: that.pagesize\n      };\n      that.global.axiosPostReq('/item/showItemClassify', obj).then(function (res) {\n        if (res.data.callStatus === 'SUCCEED') {\n          that.tableData = res.data.data;\n          that.totalCount = res.data.totalNumber;\n        } else {\n          that.$message.error('网络出错，请稍后再试！');\n        }\n      });\n    },\n    // 删除分类\n    DELEONE: function DELEONE(scope) {\n      var that = this;\n      // console.log(scope.row.itemClassifyId);\n      that.$confirm('确定删除该属性吗, 是否继续?', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var obj = {\n          itemClassifyId: scope.row.itemClassifyId,\n          itemClassifyName: scope.row.itemClassifyName,\n          itemClassifyGrade: scope.row.itemClassifyGrade\n        };\n        console.log(obj, '23232');\n        that.global.axiosPostReq('/item/deleteItemClassify', obj).then(function (res) {\n          if (res.data.callStatus === 'SUCCEED') {\n            // console.log(res.data);\n            that.getClassify();\n            that.getAllClassify();\n            that.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n          } else {\n            that.$message.error('网络出错，请稍后再试！');\n          }\n        });\n      }).catch(function () {\n        that.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    // 修改商品分类\n    changeOneAttr: function changeOneAttr(scope) {\n      var that = this;\n      console.log(scope.row);\n      //that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\n      that.bindTitle = \"修改商品分类\";\n      that.dialogFormVisible = true;\n      that.PreviousClassify = scope.row.itemPreviousClassify;\n      that.ruleForm.classname = scope.row.itemClassifyName;\n      that.ruleForm.oldClassname = scope.row.itemClassifyName;\n      that.ruleForm.itemId = scope.row.itemClassifyId;\n      that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\n      that.addNew = false;\n      // if (scope.row.itemClassifyGrade == 1) {\n      //   that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\n      //   that.bindTitle = \"修改商品分类\";\n      //   that.dialogFormVisible = true;\n      //   that.ruleForm.classname = scope.row.itemClassifyName;\n      //   that.ruleForm.oldClassname = scope.row.itemClassifyName;\n      //   that.ruleForm.itemId = scope.row.itemClassifyId;\n      //   that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\n      //   that.addNew = false\n      //   return false\n      // }\n      // if (scope.row.itemClassifyGrade == 2) {\n      //   that.ruleForm.upClass.push('根节点');\n      //   that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\n      //   that.bindTitle = \"修改商品分类\";\n      //   that.dialogFormVisible = true;\n      //   that.ruleForm.classname = scope.row.itemClassifyName;\n      //   that.ruleForm.oldClassname = scope.row.itemClassifyName;\n      //   that.ruleForm.itemId = scope.row.itemClassifyId;\n      //   that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\n      //   that.addNew = false\n      //   return false\n      // }\n      // if (scope.row.itemClassifyGrade == 3) {\n      //   console.log('333333');\n      //   that.ruleForm.upClass.push('根节点');\n      //   that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\n      //   that.bindTitle = \"修改商品分类\";\n      //   that.dialogFormVisible = true;\n      //   that.ruleForm.classname = scope.row.itemClassifyName;\n      //   that.ruleForm.oldClassname = scope.row.itemClassifyName;\n      //   that.ruleForm.itemId = scope.row.itemClassifyId;\n      //   that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\n      //   that.addNew = false\n      //   //console.log(scope.row);\n      //   return false\n      // }\n    },\n    // 保存商品分类\n    saveOneAttrs: function saveOneAttrs(formName) {\n      var that = this;\n      // console.log(that.ruleForm);\n      that.$refs[formName].validate(function (valid) {\n        if (valid) {\n          if (that.bindTitle == \"添加商品分类\") {\n            var obj = {\n              itemClassifyName: that.ruleForm.classname,\n              itemPreviousClassify: that.ruleForm.upClass.slice(-1)[0],\n              itemClassifyGrade: that.ruleForm.upClass.length\n            };\n            that.global.axiosPostReq('/item/addItemClassify', obj).then(function (res) {\n              if (res.data.callStatus === 'SUCCEED') {\n                that.getClassify();\n                that.getAllClassify();\n                that.ruleForm.classname = '';\n                that.ruleForm.upClass = [];\n                that.dialogFormVisible = false;\n                that.$message({\n                  type: 'success',\n                  message: '添加成功!'\n                });\n                that.tableData = res.data.data;\n              } else {\n                that.$message.error('网络出错，请稍后再试！');\n              }\n            });\n          } else {\n            var obj = {\n              itemClassifyId: that.ruleForm.itemId,\n              itemClassifyName: that.ruleForm.classname,\n              itemOldName: that.ruleForm.oldClassname,\n              itemClassifyGrade: that.ruleForm.itemClassifyGrade\n            };\n            console.log(that.ruleForm, '22222222');\n            that.global.axiosPostReq('/item/updateItemClassify', obj).then(function (res) {\n              if (res.data.callStatus === 'SUCCEED') {\n                that.getClassify();\n                that.getAllClassify();\n                that.ruleForm.classname = '';\n                that.ruleForm.upClass = [];\n                that.ruleForm.itemId = null;\n                that.ruleForm.itemClassifyGrade = null;\n                that.dialogFormVisible = false;\n                that.$message({\n                  type: 'success',\n                  message: '修改成功!'\n                });\n                that.tableData = res.data.data;\n              } else {\n                that.$message.error('网络出错，请稍后再试！');\n              }\n            });\n          }\n        } else {\n          // console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    // 关闭面板时候\n    handleClose: function handleClose() {\n      var that = this;\n      that.ruleForm.classname = '';\n      that.ruleForm.upClass = [];\n      that.ruleForm.itemId = null;\n      that.ruleForm.itemClassifyGrade = null;\n      that.dialogFormVisible = false;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 563:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(349)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".classfy .el-dialog__footer{margin-left:120px;text-align:left}.cascader{width:260px}\", \"\", {\"version\":3,\"sources\":[\"F:/yayi-web/src/components/admin/bsseInfoManner/classfy.vue\"],\"names\":[],\"mappings\":\"AACA,4BACE,kBAAmB,AACnB,eAAiB,CAClB,AACD,UACE,WAAa,CACd\",\"file\":\"classfy.vue\",\"sourcesContent\":[\"\\n.classfy  .el-dialog__footer{\\r\\n  margin-left: 120px;\\r\\n  text-align: left;\\n}\\n.cascader {\\r\\n  width: 260px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 693:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(563);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(350)(\"ebc4ed1a\", content, true);\n\n/***/ }),\n\n/***/ 815:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    staticClass: \"warp classfy\"\n  }, [_c('el-col', {\n    staticClass: \"warp-breadcrum\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('el-breadcrumb-item', [_c('b', [_vm._v(\"商品基础资料管理\")])]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"商品分类管理\")])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"warp-main\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"分类名称：\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.searchClassfyName),\n      callback: function($$v) {\n        _vm.searchClassfyName = $$v\n      },\n      expression: \"searchClassfyName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"上级分类：\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.searchParentClassfyName),\n      callback: function($$v) {\n        _vm.searchParentClassfyName = $$v\n      },\n      expression: \"searchParentClassfyName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.search()\n      }\n    }\n  }, [_vm._v(\"查询\")])], 1)], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    staticStyle: {\n      \"text-align\": \"right\",\n      \"line-height\": \"40px\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addClassfy()\n      }\n    }\n  }, [_vm._v(\"+添加商品分类\")])], 1), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"itemClassifyName\",\n      \"align\": \"center\",\n      \"label\": \"分类名称\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"itemPreviousClassify\",\n      \"align\": \"center\",\n      \"label\": \"上级分类\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeOneAttr(scope)\n            }\n          }\n        }, [_vm._v(\"修改\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"text\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.DELEONE(scope)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('el-pagination', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (this.totalCount > this.pagesize),\n      expression: \"this.totalCount > this.pagesize\"\n    }],\n    attrs: {\n      \"current-page\": _vm.currentPage,\n      \"page-size\": _vm.pagesize,\n      \"layout\": \"prev, pager, next, jumper\",\n      \"total\": _vm.totalCount\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.currentPage = $event\n      }\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.bindTitle,\n      \"visible\": _vm.dialogFormVisible,\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"ruleForm\",\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rules\n    }\n  }, [(_vm.addNew) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"上级分类：\",\n      \"prop\": \"upClass\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-cascader', {\n    staticClass: \"cascader\",\n    attrs: {\n      \"props\": {\n        value: 'label'\n      },\n      \"options\": _vm.options,\n      \"show-all-levels\": false,\n      \"change-on-select\": \"\"\n    },\n    model: {\n      value: (_vm.ruleForm.upClass),\n      callback: function($$v) {\n        _vm.ruleForm.upClass = $$v\n      },\n      expression: \"ruleForm.upClass\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"icon\": \"search\"\n    },\n    slot: \"append\"\n  })], 1)], 1) : _c('el-form-item', {\n    attrs: {\n      \"label\": \"上级分类：\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.PreviousClassify))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"分类名称：\",\n      \"prop\": \"classname\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.ruleForm.classname),\n      callback: function($$v) {\n        _vm.ruleForm.classname = $$v\n      },\n      expression: \"ruleForm.classname\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"text-align\": \"right\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.saveOneAttrs('ruleForm')\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/32.156c6856dddd33b9a31a.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26924cda\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./classfy.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./classfy.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26924cda\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./classfy.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/bsseInfoManner/classfy.vue\n// module id = 357\n// module chunks = 32","<template>\r\n  <el-row class=\"warp classfy\">\r\n    <el-col :span=\"24\" class=\"warp-breadcrum\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item><b>商品基础资料管理</b></el-breadcrumb-item>\r\n        <el-breadcrumb-item>商品分类管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-col>\r\n\r\n    <el-col :span=\"24\" class=\"warp-main\">\r\n      <!--工具条-->\r\n      <el-col class=\"toolbar\" style=\"padding-bottom: 0px;\">\r\n        <el-form :inline=\"true\">\r\n          <el-form-item label=\"分类名称：\">\r\n            <el-input v-model=\"searchClassfyName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"上级分类：\">\r\n            <el-input v-model=\"searchParentClassfyName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" v-on:click=\"search()\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n      <el-col style=\"text-align:right;line-height:40px;\">\r\n        <el-button type=\"text\" @click=\"addClassfy()\">+添加商品分类</el-button>\r\n      </el-col>\r\n\r\n      <!--列表-->\r\n        <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n          <el-table-column prop=\"itemClassifyName\" align=\"center\" label=\"分类名称\"></el-table-column>\r\n          <el-table-column prop=\"itemPreviousClassify\" align=\"center\" label=\"上级分类\"></el-table-column>\r\n          <el-table-column align=\"center\" label=\"操作\">\r\n            <template scope=\"scope\">\r\n              <el-button type=\"text\" v-on:click=\"changeOneAttr(scope)\">修改</el-button>\r\n              <el-button type=\"text\" v-on:click=\"DELEONE(scope)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"block\">\r\n          <!-- 分页 -->\r\n          <el-pagination @current-change=\"handleCurrentChange\" :current-page.sync=\"currentPage\" :page-size=\"pagesize\" layout=\"prev, pager, next, jumper\" :total=\"totalCount\" v-show=\"this.totalCount > this.pagesize\">\r\n          </el-pagination>\r\n          <!-- 分页 -->\r\n        </div>\r\n    </el-col>\r\n    <el-dialog :title=\"bindTitle\" :visible.sync=\"dialogFormVisible\" :before-close=\"handleClose\">\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\">\r\n        <el-form-item label=\"上级分类：\" prop=\"upClass\" :label-width=\"formLabelWidth\" v-if=\"addNew\">\r\n          <el-cascader class=\"cascader\" :props=\"{value:'label'}\" :options=\"options\" :show-all-levels=\"false\" v-model=\"ruleForm.upClass\"change-on-select>\r\n            <el-button slot=\"append\" icon=\"search\"></el-button>\r\n          </el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"上级分类：\" :label-width=\"formLabelWidth\" v-else>\r\n          <p>{{PreviousClassify}}</p>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类名称：\" prop=\"classname\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"ruleForm.classname\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align:right\">\r\n          <el-button type=\"primary\" @click=\"saveOneAttrs('ruleForm')\">保存</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </el-row>\r\n</template>\r\n<script>\r\n  export default{\r\n    data(){\r\n      return {\r\n        ruleForm:{\r\n          upClass: [],\r\n          classname: '',\r\n          oldClassname: '',\r\n          itemId: null,\r\n          itemClassifyGrade: null,\r\n        },\r\n        searchClassfyName: '',\r\n        searchParentClassfyName: '',\r\n        PreviousClassify: '',\r\n        // 1是增加，2是修改\r\n        classfyOperaType:1,\r\n        classfyChangeIndex:null,\r\n        options: [],\r\n        dialogFormVisible: false,\r\n        formLabelWidth: '120px',\r\n        bindTitle:null,\r\n        // -----------------------------\r\n        tableData:[],\r\n        rules: {\r\n          upClass: [\r\n            { type: 'array', required: true, message: '请选择上级分类', trigger: 'blur' }\r\n          ],\r\n          classname: [\r\n            { required: true, message: '请输入分类名称', trigger: 'blur' }\r\n          ],\r\n        },\r\n        a: [],\r\n        addNew: true,\r\n        //默认每页数据量\r\n        pagesize: 10,\r\n        //当前页码\r\n        currentPage: 1,\r\n        //默认数据总数\r\n        totalCount: 0,\r\n        // formLabelWidth: '120px'\r\n        // -----------------------------------\r\n      }\r\n    },\r\n    created: function () {\r\n      var that = this;\r\n      that.getClassify();\r\n      that.getAllClassify();\r\n    },\r\n    methods: {\r\n      //分页\r\n      handleCurrentChange(val) {\r\n        var that = this\r\n        that.currentPage = val\r\n        that.search(val)\r\n      },\r\n      //获取分类列表\r\n      getClassify: function() {\r\n        var that = this;\r\n        var obj = {\r\n          currentPage: that.currentPage,\r\n          numberPerPage: that.pagesize,\r\n        }\r\n        that.global.axiosGetReq('/item/showItemClassify',obj).then((res) => {\r\n          if (res.data.callStatus === 'SUCCEED') {\r\n            that.tableData = res.data.data;\r\n            that.totalCount = res.data.totalNumber;\r\n          } else {\r\n            that.$message.error('网络出错，请稍后再试！');\r\n          }\r\n        })\r\n      },\r\n      //获取所有分类列表\r\n      getAllClassify: function() {\r\n        var that = this;\r\n        that.global.axiosGetReq('/item/getAllClassifyAndBrand').then((res) => {\r\n          // console.log(res.data);\r\n          if (res.data.callStatus === 'SUCCEED') {\r\n            that.options = res.data.data.classifyList\r\n            for (var i = 0; i < that.options.length; i++) {\r\n              that.options[i].label = that.options[i].oneClassify\r\n              that.options[i].children = that.options[i].classifyTwoList\r\n              for (var k in that.options[i].children) {\r\n                that.options[i].children[k].label = that.options[i].children[k].classifyTwoName\r\n              }\r\n            }\r\n            var optionsNew = [{\r\n              label: '根节点',\r\n              children: []\r\n            }]\r\n            optionsNew[0].children = that.options\r\n            that.options = optionsNew;\r\n          } else {\r\n            that.$message.error('网络出错，请稍后再试！');\r\n          }\r\n        })\r\n      },\r\n      // 添加商品分类\r\n      addClassfy: function () {\r\n        var that = this;\r\n        that.bindTitle = \"添加商品分类\";\r\n        that.dialogFormVisible = true;\r\n        that.addNew = true;\r\n      },\r\n      // 查询分类\r\n      search:function (val) {\r\n        var that = this;\r\n        if (val == undefined || typeof(val) == 'object') {\r\n          that.currentPage = 1\r\n        } else {\r\n          that.currentPage = val\r\n        }\r\n        var obj = {\r\n          itemClassifyName: that.searchClassfyName,\r\n          itemPreviousClassify: that.searchParentClassfyName,\r\n          currentPage: that.currentPage,\r\n          numberPerPage: that.pagesize,\r\n        }\r\n        that.global.axiosPostReq('/item/showItemClassify',obj).then((res) => {\r\n          if (res.data.callStatus === 'SUCCEED') {\r\n            that.tableData = res.data.data\r\n            that.totalCount = res.data.totalNumber;\r\n          } else {\r\n            that.$message.error('网络出错，请稍后再试！');\r\n          }\r\n        })\r\n      },\r\n      // 删除分类\r\n      DELEONE:function(scope){\r\n        var that = this;\r\n        // console.log(scope.row.itemClassifyId);\r\n        that.$confirm('确定删除该属性吗, 是否继续?', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          var obj = {\r\n            itemClassifyId: scope.row.itemClassifyId,\r\n            itemClassifyName: scope.row.itemClassifyName,\r\n            itemClassifyGrade: scope.row.itemClassifyGrade,\r\n          }\r\n          console.log(obj,'23232')\r\n          that.global.axiosPostReq('/item/deleteItemClassify',obj).then((res) => {\r\n            if (res.data.callStatus === 'SUCCEED') {\r\n              // console.log(res.data);\r\n              that.getClassify();\r\n              that.getAllClassify();\r\n              that.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n            } else {\r\n              that.$message.error('网络出错，请稍后再试！');\r\n            }\r\n          })\r\n        }).catch(() => {\r\n          that.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n      },\r\n      // 修改商品分类\r\n      changeOneAttr: function(scope) {\r\n        var that = this;\r\n        console.log(scope.row);\r\n        //that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\r\n        that.bindTitle = \"修改商品分类\";\r\n        that.dialogFormVisible = true;\r\n        that.PreviousClassify = scope.row.itemPreviousClassify;\r\n        that.ruleForm.classname = scope.row.itemClassifyName;\r\n        that.ruleForm.oldClassname = scope.row.itemClassifyName;\r\n        that.ruleForm.itemId = scope.row.itemClassifyId;\r\n        that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\r\n        that.addNew = false\r\n        // if (scope.row.itemClassifyGrade == 1) {\r\n        //   that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\r\n        //   that.bindTitle = \"修改商品分类\";\r\n        //   that.dialogFormVisible = true;\r\n        //   that.ruleForm.classname = scope.row.itemClassifyName;\r\n        //   that.ruleForm.oldClassname = scope.row.itemClassifyName;\r\n        //   that.ruleForm.itemId = scope.row.itemClassifyId;\r\n        //   that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\r\n        //   that.addNew = false\r\n        //   return false\r\n        // }\r\n        // if (scope.row.itemClassifyGrade == 2) {\r\n        //   that.ruleForm.upClass.push('根节点');\r\n        //   that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\r\n        //   that.bindTitle = \"修改商品分类\";\r\n        //   that.dialogFormVisible = true;\r\n        //   that.ruleForm.classname = scope.row.itemClassifyName;\r\n        //   that.ruleForm.oldClassname = scope.row.itemClassifyName;\r\n        //   that.ruleForm.itemId = scope.row.itemClassifyId;\r\n        //   that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\r\n        //   that.addNew = false\r\n        //   return false\r\n        // }\r\n        // if (scope.row.itemClassifyGrade == 3) {\r\n        //   console.log('333333');\r\n        //   that.ruleForm.upClass.push('根节点');\r\n        //   that.ruleForm.upClass.push(scope.row.itemPreviousClassify);\r\n        //   that.bindTitle = \"修改商品分类\";\r\n        //   that.dialogFormVisible = true;\r\n        //   that.ruleForm.classname = scope.row.itemClassifyName;\r\n        //   that.ruleForm.oldClassname = scope.row.itemClassifyName;\r\n        //   that.ruleForm.itemId = scope.row.itemClassifyId;\r\n        //   that.ruleForm.itemClassifyGrade = scope.row.itemClassifyGrade;\r\n        //   that.addNew = false\r\n        //   //console.log(scope.row);\r\n        //   return false\r\n        // }\r\n      },\r\n      // 保存商品分类\r\n      saveOneAttrs: function(formName) {\r\n        var that = this;\r\n        // console.log(that.ruleForm);\r\n        that.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if (that.bindTitle == \"添加商品分类\") {\r\n              var obj = {\r\n                itemClassifyName: that.ruleForm.classname,\r\n                itemPreviousClassify: that.ruleForm.upClass.slice(-1)[0],\r\n                itemClassifyGrade: that.ruleForm.upClass.length,\r\n              }\r\n              that.global.axiosPostReq('/item/addItemClassify',obj).then((res) => {\r\n                if (res.data.callStatus === 'SUCCEED') {\r\n                  that.getClassify();\r\n                  that.getAllClassify();\r\n                  that.ruleForm.classname = '';\r\n                  that.ruleForm.upClass = [];\r\n                  that.dialogFormVisible = false;\r\n                  that.$message({\r\n                    type: 'success',\r\n                    message: '添加成功!'\r\n                  });\r\n                  that.tableData = res.data.data;\r\n                } else {\r\n                  that.$message.error('网络出错，请稍后再试！');\r\n                }\r\n              })\r\n            } else {\r\n              var obj = {\r\n                itemClassifyId: that.ruleForm.itemId,\r\n                itemClassifyName: that.ruleForm.classname,\r\n                itemOldName: that.ruleForm.oldClassname,\r\n                itemClassifyGrade: that.ruleForm.itemClassifyGrade,\r\n              }\r\n              console.log(that.ruleForm,'22222222');\r\n              that.global.axiosPostReq('/item/updateItemClassify',obj).then((res) => {\r\n                if (res.data.callStatus === 'SUCCEED') {\r\n                  that.getClassify();\r\n                  that.getAllClassify();\r\n                  that.ruleForm.classname = '';\r\n                  that.ruleForm.upClass = [];\r\n                  that.ruleForm.itemId = null;\r\n                  that.ruleForm.itemClassifyGrade = null;\r\n                  that.dialogFormVisible = false;\r\n                  that.$message({\r\n                    type: 'success',\r\n                    message: '修改成功!'\r\n                  });\r\n                  that.tableData = res.data.data;\r\n                } else {\r\n                  that.$message.error('网络出错，请稍后再试！');\r\n                }\r\n              })\r\n            }\r\n          } else {\r\n            // console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      // 关闭面板时候\r\n      handleClose: function() {\r\n        var that = this;\r\n        that.ruleForm.classname = '';\r\n        that.ruleForm.upClass = [];\r\n        that.ruleForm.itemId = null;\r\n        that.ruleForm.itemClassifyGrade = null;\r\n        that.dialogFormVisible = false;\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style>\r\n.classfy  .el-dialog__footer{\r\n  margin-left: 120px;\r\n  text-align: left;\r\n}\r\n.cascader {\r\n  width: 260px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// classfy.vue?a7c53156","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".classfy .el-dialog__footer{margin-left:120px;text-align:left}.cascader{width:260px}\", \"\", {\"version\":3,\"sources\":[\"F:/yayi-web/src/components/admin/bsseInfoManner/classfy.vue\"],\"names\":[],\"mappings\":\"AACA,4BACE,kBAAmB,AACnB,eAAiB,CAClB,AACD,UACE,WAAa,CACd\",\"file\":\"classfy.vue\",\"sourcesContent\":[\"\\n.classfy  .el-dialog__footer{\\r\\n  margin-left: 120px;\\r\\n  text-align: left;\\n}\\n.cascader {\\r\\n  width: 260px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-26924cda\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/admin/bsseInfoManner/classfy.vue\n// module id = 563\n// module chunks = 32","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26924cda\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./classfy.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"ebc4ed1a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-26924cda\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/admin/bsseInfoManner/classfy.vue\n// module id = 693\n// module chunks = 32","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    staticClass: \"warp classfy\"\n  }, [_c('el-col', {\n    staticClass: \"warp-breadcrum\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('el-breadcrumb-item', [_c('b', [_vm._v(\"商品基础资料管理\")])]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"商品分类管理\")])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"warp-main\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    }\n  }, [_c('el-form', {\n    attrs: {\n      \"inline\": true\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"分类名称：\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.searchClassfyName),\n      callback: function($$v) {\n        _vm.searchClassfyName = $$v\n      },\n      expression: \"searchClassfyName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"上级分类：\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.searchParentClassfyName),\n      callback: function($$v) {\n        _vm.searchParentClassfyName = $$v\n      },\n      expression: \"searchParentClassfyName\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.search()\n      }\n    }\n  }, [_vm._v(\"查询\")])], 1)], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    staticStyle: {\n      \"text-align\": \"right\",\n      \"line-height\": \"40px\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"text\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.addClassfy()\n      }\n    }\n  }, [_vm._v(\"+添加商品分类\")])], 1), _vm._v(\" \"), _c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.tableData,\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"itemClassifyName\",\n      \"align\": \"center\",\n      \"label\": \"分类名称\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"itemPreviousClassify\",\n      \"align\": \"center\",\n      \"label\": \"上级分类\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"align\": \"center\",\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.changeOneAttr(scope)\n            }\n          }\n        }, [_vm._v(\"修改\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"text\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.DELEONE(scope)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"block\"\n  }, [_c('el-pagination', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (this.totalCount > this.pagesize),\n      expression: \"this.totalCount > this.pagesize\"\n    }],\n    attrs: {\n      \"current-page\": _vm.currentPage,\n      \"page-size\": _vm.pagesize,\n      \"layout\": \"prev, pager, next, jumper\",\n      \"total\": _vm.totalCount\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange,\n      \"update:currentPage\": function($event) {\n        _vm.currentPage = $event\n      }\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": _vm.bindTitle,\n      \"visible\": _vm.dialogFormVisible,\n      \"before-close\": _vm.handleClose\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.dialogFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"ruleForm\",\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rules\n    }\n  }, [(_vm.addNew) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"上级分类：\",\n      \"prop\": \"upClass\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-cascader', {\n    staticClass: \"cascader\",\n    attrs: {\n      \"props\": {\n        value: 'label'\n      },\n      \"options\": _vm.options,\n      \"show-all-levels\": false,\n      \"change-on-select\": \"\"\n    },\n    model: {\n      value: (_vm.ruleForm.upClass),\n      callback: function($$v) {\n        _vm.ruleForm.upClass = $$v\n      },\n      expression: \"ruleForm.upClass\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"icon\": \"search\"\n    },\n    slot: \"append\"\n  })], 1)], 1) : _c('el-form-item', {\n    attrs: {\n      \"label\": \"上级分类：\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.PreviousClassify))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"分类名称：\",\n      \"prop\": \"classname\",\n      \"label-width\": _vm.formLabelWidth\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.ruleForm.classname),\n      callback: function($$v) {\n        _vm.ruleForm.classname = $$v\n      },\n      expression: \"ruleForm.classname\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticStyle: {\n      \"text-align\": \"right\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.saveOneAttrs('ruleForm')\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-26924cda\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/bsseInfoManner/classfy.vue\n// module id = 815\n// module chunks = 32"],"sourceRoot":""}